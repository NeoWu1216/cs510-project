(this.webpackJsonp510proj=this.webpackJsonp510proj||[]).push([[0],{73:function(e,a,t){e.exports=t(85)},78:function(e,a,t){},80:function(e,a,t){},85:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(8),l=t.n(c),i=(t(78),t(39)),o=t.n(i),s=t(65),u=t(12),m=t(64),p=(t(80),t(120)),h=t(127),d=t(128),f=t(40),g=t(125),E=t(129),v=t(137),b=t(133),k=t(139),y=t(60),S=t.n(y),P=t(86),j=t(124),T=t(47),O=t.n(T),x=Object(p.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center"},searchRes:{padding:e.spacing(3,2),width:"65vw",marginBottom:"5vh"}}}));function w(e){var a=x(),t=e.data,r=t.title,c=t.link,l=t.paragraph;return n.a.createElement(P.a,{className:a.searchRes},n.a.createElement(f.a,{variant:"h6",component:"h3"},n.a.createElement(j.a,{href:c,target:"_blank"},r)),n.a.createElement(f.a,{component:"p",variant:"caption"},c),n.a.createElement(f.a,{component:"p"},l),n.a.createElement(g.a,{"aria-label":"like",onClick:function(){return e.onLike(r)}},n.a.createElement(O.a,null)))}var L=function(e){var a=x(),t=e.data;return n.a.createElement("div",{className:a.root},t.map((function(a){return n.a.createElement(w,{data:a,onLike:e.onLike})})))},R=t(126),C=t(87),N=Object(p.a)((function(e){return{root:{},button:{textTransform:"none"}}}));function D(e){var a=N(),t=e.data,r=t.text,c=t.onClick,l=t.color;return n.a.createElement(C.a,{onClick:c,className:a.button,color:l,variant:"primary"===l?"outlined":"text"},r)}var M=function(e){var a=N(),t=e.data;return e.hidden?n.a.createElement("div",null):n.a.createElement(R.a,{className:a.root},t.map((function(e){return n.a.createElement(D,{data:e,key:e.text})})))},B=t(140),I=t(132),q=t(134),J=t(88),_=t(135),A=t(136),G=t(61),W=t.n(G),V=t(62),K=t.n(V),U=t(63),$=t.n(U),z="cs510-project.herokuapp.com";var F=Object(p.a)((function(e){return{root:{display:"flex",marginRight:240,flexDirection:"column",alignItems:"center"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},userButtons:{marginLeft:"auto",marginRight:-12},searchBar:{display:"flex",alignItems:"center",height:"20vh"},formControl:{width:"30vw"},labelGroup:{flex:1,justifyContent:"center"},resList:{display:"flex",color:"red"},drawerPaper:{width:240}}}));var H=function(){var e=["All","Dataset","Graphic","Video","Similarity","Object Detection","Convolution","Points"],a=n.a.useState({searchMode:"Search Titles",searchText:"",topic:e[0],topicData:{All:[]},searchResState:[{title:"Loading..."}],userLikedPapersTitle:JSON.parse(localStorage.getItem("likedPapers"))||[]}),t=Object(m.a)(a,2),r=t[0],c=t[1];function l(e){var a=e.target.innerText;c(Object(u.a)({},r,{searchResState:r.topicData[a],topic:a}))}n.a.useEffect((function(){fetch("http://"+z+"/query_all",{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return c(Object(u.a)({},r,{topicData:e}))}))}),[]),n.a.useEffect((function(){c(Object(u.a)({},r,{searchResState:r.topicData.All.slice(0,200)}))}),[r.topicData]),n.a.useEffect((function(){localStorage.setItem("likedPapers",JSON.stringify(r.userLikedPapersTitle))}),[r.userLikedPapersTitle]);var i=F(),p=e.map((function(e){return{text:e,onClick:l,color:r.topic===e?"primary":"default"}}));return n.a.createElement("div",{className:i.root},n.a.createElement(h.a,{position:"sticky"},n.a.createElement(d.a,{variant:"dense"},n.a.createElement(f.a,{variant:"h6",className:i.title},"Computer Vision Paper Search"),n.a.createElement("span",{className:i.userButtons},n.a.createElement(g.a,{color:"inherit","aria-label":"Edit"},n.a.createElement(S.a,null))))),n.a.createElement("div",{className:i.searchBar},n.a.createElement(E.a,{variant:"outlined",className:i.formControl},n.a.createElement(v.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:r.searchMode,onChange:function(e){"Search Titles"===e.target.value?c(Object(u.a)({},r,{searchMode:e.target.value,topic:"All",searchResState:r.topicData.All.slice(0,200)})):"Search Paragraphs"===e.target.value&&c(Object(u.a)({},r,{searchMode:e.target.value,searchResState:[]})),"Recommend Papers"===e.target.value&&fetch("http://"+z+"/query_similar",{method:"POST",body:JSON.stringify({queryString:r.userLikedPapersTitle}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){return c(Object(u.a)({},r,{searchMode:e.target.value,searchResState:a}))}))}},n.a.createElement(b.a,{value:"Search Titles"},"Search Titles"),n.a.createElement(b.a,{value:"Search Paragraphs"},"Search Paragraphs"),n.a.createElement(b.a,{value:"Recommend Papers"},"Recommend Papers"))),"Recommend Papers"===r.searchMode?null:n.a.createElement(k.a,{id:"outlined-full-width",label:"CV papers to search",style:{margin:5},placeholder:"",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},variant:"outlined",onKeyPress:function(e){console.log("Pressed keyCode ".concat(e.key)),"Enter"===e.key&&(o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.awrap(c(Object(u.a)({},r,{searchResState:[{paragraph:"Loading..."}]})));case 2:if("Search Paragraphs"!==r.searchMode){e.next=7;break}return e.next=5,o.a.awrap(fetch("http://"+z+"/query_title_paragraph",{method:"POST",body:JSON.stringify({queryString:r.searchText}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return c(Object(u.a)({},r,{searchResState:e}))})));case 5:e.next=10;break;case 7:if("Search Titles"!==r.searchMode){e.next=10;break}return e.next=10,o.a.awrap(fetch("http://"+z+"/query_topic",{method:"POST",body:JSON.stringify({queryString:r.searchText,topicString:r.topic}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return c(Object(u.a)({},r,{searchResState:e}))})));case 10:case"end":return e.stop()}})),e.preventDefault())},onChange:function(e){c(Object(u.a)({},r,{searchText:e.target.value}))}})),n.a.createElement(M,{data:p,className:i.labelGroup,hidden:"Search Titles"!==r.searchMode}),n.a.createElement(L,{data:r.searchResState,className:i.resList,onLike:function(e){var a=r.userLikedPapersTitle.concat([e]);a=Object(s.a)(new Set(a)),c(Object(u.a)({},r,{userLikedPapersTitle:a}))}}),n.a.createElement(B.a,{className:i.drawer,variant:"permanent",classes:{paper:i.drawerPaper},anchor:"right"},n.a.createElement("div",{className:i.toolbar}),"Welcome User!",n.a.createElement(q.a,null),n.a.createElement(I.a,null,["Liked Papers"].map((function(e,a){return n.a.createElement(J.a,{button:!0,key:e},n.a.createElement(_.a,null,a%2===0?n.a.createElement(W.a,null):n.a.createElement(K.a,null)),n.a.createElement(A.a,{primary:e}))}))),n.a.createElement(q.a,null),r.userLikedPapersTitle.map((function(e){return n.a.createElement("div",null,n.a.createElement(J.a,{button:!0,key:e},n.a.createElement(A.a,{primary:e}),n.a.createElement(g.a,{"aria-label":"unlike",onClick:function(){return function(e){var a=r.userLikedPapersTitle.filter((function(a){return a!==e}));c(Object(u.a)({},r,{userLikedPapersTitle:a}))}(e)}},n.a.createElement($.a,null))),n.a.createElement(q.a,null))}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[73,1,2]]]);
//# sourceMappingURL=main.95601046.chunk.js.map